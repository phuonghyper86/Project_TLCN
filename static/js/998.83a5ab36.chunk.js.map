{"version":3,"file":"static/js/998.83a5ab36.chunk.js","mappings":"uMAyFA,UArFA,YAAiC,IAATA,EAAQ,EAARA,KACdC,EAAQ,IAAMC,KAAKC,KAAKD,KAAKE,KAAKJ,EAAKK,SAC7C,GAAwBC,EAAAA,EAAAA,WAAS,GAAjC,eAAOC,EAAP,KAAaC,EAAb,KACA,GAAsBF,EAAAA,EAAAA,UAAS,IAA/B,eAAOG,EAAP,KAAYC,EAAZ,KA6BA,OACI,iBAAKC,UAAU,wBAAf,UACKX,EAAKY,KAAI,SAACC,EAAOC,GACd,OAAgC,IAA5BD,EAAME,QAAQ,UAEV,gBACIC,QAAS,kBAdT,SAACP,GACrBC,EAAOD,GACPD,GAAQ,GAY2BS,CAAgBJ,IAC/BF,UAAU,oBAEVO,IAAKL,EACLM,IAAI,GACJC,MAAK,UAAKnB,EAAL,KACLoB,OAAM,UAAKpB,EAAL,MAJDa,IAST,kBACIQ,UAAQ,EAERJ,IAAKL,EACLM,IAAI,GACJC,MAAK,UAAKnB,EAAL,KACLoB,OAAM,UAAKpB,EAAL,MAJDa,OASrB,UAAC,IAAD,CACIS,KAAK,KACLC,UAAQ,EACRjB,KAAMA,EACNkB,OAAQ,kBAAMjB,GAAQ,IACtBG,UAAU,2BALd,WAOI,UAAC,WAAD,CAAcA,UAAU,6BAAxB,WACI,gBAAKA,UAAU,cAAf,UACI,cACIA,UAAU,0DACVK,QAnED,WACnBU,GAAAA,CAAM,CACFjB,IAAKA,EACLkB,OAAQ,MACRC,aAAc,SAEbC,MAAK,SAACC,GACH,IAAMrB,EAAMsB,OAAOC,IAAIC,gBACnB,IAAIC,KAAK,CAACJ,EAASK,QAEjBC,EAAOC,SAASC,cAAc,KACpCF,EAAKG,KAAO9B,EACZ2B,EAAKI,aAAa,YAAY,IAAIC,MAAOC,UAAY,QACrDN,EAAKO,MAAMC,QAAU,OACrBP,SAASQ,KAAKC,YAAYV,GAC1BA,EAAKW,QACLV,SAASQ,KAAKG,YAAYZ,MAE7Ba,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAIF,YAoDlB,cACIvC,UAAU,2CACVK,QAhDI,WACpBN,EAAO,IACPF,GAAQ,UAiDA,SAAC,IAAD,CAAOU,IAAKT","sources":["layout/content/ChatContent/Component/Message/ImageMessage.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Modal, Image } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\n\r\nfunction ImageMessage({ list }) {\r\n    const WIDTH = 100 / Math.ceil(Math.sqrt(list.length));\r\n    const [show, setShow] = useState(false);\r\n    const [url, setUrl] = useState(\"\");\r\n    const downloadDriect = () => {\r\n        axios({\r\n            url: url,\r\n            method: \"GET\",\r\n            responseType: \"blob\", // important\r\n        })\r\n            .then((response) => {\r\n                const url = window.URL.createObjectURL(\r\n                    new Blob([response.data])\r\n                );\r\n                const link = document.createElement(\"a\");\r\n                link.href = url;\r\n                link.setAttribute(\"download\", new Date().getTime() + \".png\");\r\n                link.style.display = \"none\";\r\n                document.body.appendChild(link);\r\n                link.click();\r\n                document.body.removeChild(link);\r\n            })\r\n            .catch((e) => console.log(e));\r\n    };\r\n    const handleShowImage = (url) => {\r\n        setUrl(url);\r\n        setShow(true);\r\n    };\r\n    const handleHideImage = () => {\r\n        setUrl(\"\");\r\n        setShow(false);\r\n    };\r\n    return (\r\n        <div className=\"childMessage__listImg\">\r\n            {list.map((value, index) => {\r\n                if (value.indexOf(\"image\") !== -1) {\r\n                    return (\r\n                        <img\r\n                            onClick={() => handleShowImage(value)}\r\n                            className=\"messageImage__fit\"\r\n                            key={index}\r\n                            src={value}\r\n                            alt=\"\"\r\n                            width={`${WIDTH}%`}\r\n                            height={`${WIDTH}%`}\r\n                        />\r\n                    );\r\n                } else {\r\n                    return (\r\n                        <video\r\n                            controls\r\n                            key={index}\r\n                            src={value}\r\n                            alt=\"\"\r\n                            width={`${WIDTH}%`}\r\n                            height={`${WIDTH}%`}\r\n                        />\r\n                    );\r\n                }\r\n            })}\r\n            <Modal\r\n                size=\"lg\"\r\n                centered\r\n                show={show}\r\n                onHide={() => setShow(false)}\r\n                className=\"ImageMessage__modal-body\"\r\n            >\r\n                <Modal.Header className=\"ImageMessage__modal-header\">\r\n                    <div className=\"flex-grow-1\">\r\n                        <i\r\n                            className=\"bi bi-arrow-down-square ImageMessage__modalbtn-download\"\r\n                            onClick={downloadDriect}\r\n                        ></i>\r\n                    </div>\r\n                    <i\r\n                        className=\"bi bi-x-lg ImageMessage__modalbtn-cancel\"\r\n                        onClick={handleHideImage}\r\n                    ></i>\r\n                </Modal.Header>\r\n                <Image src={url} />\r\n            </Modal>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ImageMessage;\r\n"],"names":["list","WIDTH","Math","ceil","sqrt","length","useState","show","setShow","url","setUrl","className","map","value","index","indexOf","onClick","handleShowImage","src","alt","width","height","controls","size","centered","onHide","axios","method","responseType","then","response","window","URL","createObjectURL","Blob","data","link","document","createElement","href","setAttribute","Date","getTime","style","display","body","appendChild","click","removeChild","catch","e","console","log"],"sourceRoot":""}